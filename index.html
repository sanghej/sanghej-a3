<!-- Jashan Sanghera -->
<!-- TCSS 460 : Summer 2020 -->
<!-- Assignment 3 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 3</title>
    <!-- add a reference to the external stylesheet -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <!-- add reference to jQuery -->
    <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

    <!-- HTML code for displaying the navigation bar on the top -->
    <nav class="navbar navbar-dark bg-primary mb-3">
        <div class="container">
            <a href="#" class="navbar-brand">Basic Calculator</a>
        </div>
    </nav>

        <div class="w-25 p-3" style="background-color: #eee;">
            <p class="lead">Addition:</p>
            <input type="text" id="num1" class="form-control" value="1" placeholder="1">
            <p>+</p>
            <input type="text" id="num2" class="form-control" value="1" placeholder="1">
            <br><div id="addition">= 2</div><br><br>

            <p class="lead">Subtraction:</p>
            <input type="text" id="num3" class="form-control" value="1" placeholder="1">
            <p>-</p>
            <input type="text" id="num4" class="form-control" value="1" placeholder="1">
            <br><div id="subtraction">= 0</div><br><br>

            <p class="lead">Multiplication:</p>
            <input type="text" id="num5" class="form-control" value="1" placeholder="1">
            <p>*</p>
            <input type="text" id="num6" class="form-control" value="1" placeholder="1">
            <br><div id="multiplication">= 1</div><br><br>

            <p class="lead">Division:</p>
            <input type="text" id="num7" class="form-control" value="1" placeholder="1">
            <p>/</p>
            <input type="text" id="num8" class="form-control" value="1" placeholder="1">
            <br><div id="division">= 1</div><br><br>
        </div>

    <script>

        //ADDITION
        document.getElementById("num1").addEventListener("keyup", function (e) {
            // retrieve the user profile name
            const field1 = e.target.value;
            const field2 = document.getElementById("num2").value;

            var data;
            fetch('http://127.0.0.1:3000/add/' + field1 + "/" + field2)
                .then(response => response.json())
                .then(data => document.getElementById("addition").innerHTML = "= " + data.result)
        });

        document.getElementById("num2").addEventListener("keyup", function (e) {
            // retrieve the user profile name
            const field2 = e.target.value;
            const field1 = document.getElementById("num1").value;

            var data;
            fetch('http://127.0.0.1:3000/add/' + field1 + "/" + field2)
                .then(response => response.json())
                .then(data => document.getElementById("addition").innerHTML = "= " + data.result)
        });

        //SUBTRACTION
        document.getElementById("num3").addEventListener("keyup", function (e) {
            // retrieve the user profile name
            const field1 = e.target.value;
            const field2 = document.getElementById("num4").value;

            var data;
            fetch('http://127.0.0.1:3000/subt/' + field1 + "/" + field2)
                .then(response => response.json())
                .then(data => document.getElementById("subtraction").innerHTML = "= " + data.result)
        });

        document.getElementById("num4").addEventListener("keyup", function (e) {
            // retrieve the user profile name
            const field2 = e.target.value;
            const field1 = document.getElementById("num3").value;

            var data;
            fetch('http://127.0.0.1:3000/subt/' + field1 + "/" + field2)
                .then(response => response.json())
                .then(data => document.getElementById("subtraction").innerHTML = "= " + data.result)
        });

        //MULTIPLICATION
        document.getElementById("num5").addEventListener("keyup", function (e) {
            // retrieve the user profile name
            const field1 = e.target.value;
            const field2 = document.getElementById("num6").value;

            var data;
            fetch('http://127.0.0.1:3000/mult/' + field1 + "/" + field2)
                .then(response => response.json())
                .then(data => document.getElementById("multiplication").innerHTML = "= " + data.result)
        });

        document.getElementById("num6").addEventListener("keyup", function (e) {
            // retrieve the user profile name
            const field2 = e.target.value;
            const field1 = document.getElementById("num5").value;

            var data;
            fetch('http://127.0.0.1:3000/mult/' + field1 + "/" + field2)
                .then(response => response.json())
                .then(data => document.getElementById("multiplication").innerHTML = "= " + data.result)
        });

        //DIVISION
        document.getElementById("num7").addEventListener("keyup", function (e) {
            // retrieve the user profile name
            const field1 = e.target.value;
            const field2 = document.getElementById("num8").value;

            var data;
            fetch('http://127.0.0.1:3000/div/' + field1 + "/" + field2)
                .then(response => response.json())
                .then(data => document.getElementById("division").innerHTML = "= " + data.result)
        });
    </script>
</body>
</html>